(this["webpackJsonpreact-shop"]=this["webpackJsonpreact-shop"]||[]).push([[0],{78:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(23),i=n.n(c),s=n(2),u=n.n(s),o=n(10),l=n(9),d=(n.p,n(78),n(27)),j=n(14),h=n(25),f=n(24),b=Object(f.b)({name:"ishome",initialState:{value:!0},reducers:{Changehome:function(e,t){e.value=t.payload}}}),p=b.actions.Changehome,O=b.reducer,x=n(11),v=Object(f.b)({name:"status",initialState:{value:!1},reducers:{Changestatus:function(e,t){e.value=t.payload}}}),m=v.actions.Changestatus,g=v.reducer,y=n(1);function k(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(e.name+"false"),s=Object(l.a)(i,2),d=s[0],h=s[1],f=Object(x.b)(),b=Object(x.c)((function(e){return e.status.value}));Object(r.useEffect)((function(){if(a){function t(){return(t=Object(o.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.adder(e.id,e.name);case 2:c(!1),h(e.name+"true"),f(m(!b));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}}),[a]);return Object(y.jsx)("div",{children:d==e.name+"true"?Object(y.jsx)(j.a,{variant:"success",onClick:function(){f(p(!1))},children:"go to cart"}):Object(y.jsx)(j.a,{variant:"primary",disabled:a,onClick:a?null:function(){return c(!0)},children:a?"adding..":"addtocart"})})}var w=function(e){var t=Object(x.c)((function(e){return e.theme.value}));return t=""==t?"light":t,Object(y.jsx)(h.a,{children:Object(y.jsx)(d.a,{style:{width:"18rem"},bg:t,text:"dark"==t?"light":"dark",className:" m-2",children:Object(y.jsxs)(d.a.Body,{children:[Object(y.jsx)(d.a.Title,{children:e.name}),Object(y.jsx)(k,{id:e.id,name:e.name,adder:e.adder})]})})})},C=n(26),S=n(34),q=n(36),I=Object(q.a)("https://grjedxqfuerqilmrvoat.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzODc2MjQ5OSwiZXhwIjoxOTU0MzM4NDk5fQ.CmBSWYXk0_3lf0oRuZ7FtTMi0iscDtrzBWHi45Xtldo");var N=function(e){var t=Object(r.useState)([]),n=Object(l.a)(t,2),a=(n[0],n[1]);return Object(r.useEffect)((function(){function e(){return(e=Object(o.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.from("categorylist").select("*");case 2:t=e.sent,n=t.data,t.error,a(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(y.jsx)(C.a,{fluid:!0,children:Object(y.jsx)(S.a,{children:e.state.map((function(t){return Object(y.jsx)(w,{name:t.name,id:t.id,adder:e.adder})}))})})},T=(n(88),n(43)),_=n(70),B=n(54),W=n(41),z=Object(f.b)({name:"theme",initialState:{value:""},reducers:{changeColor:function(e,t){e.value=t.payload}}}),M=z.actions.changeColor,J=z.reducer,U=n(49),D=Object(f.b)({name:"search",initialState:{value:""},reducers:{changesearch:function(e,t){e.value=t.payload}}}),E=D.actions.changesearch,X=D.reducer,L=Object(f.b)({name:"user",initialState:{value:null},reducers:{changeuser:function(e,t){e.value=t.payload}}}),F=(L.actions.changeuser,L.reducer);var H=function(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),a=n[0],c=n[1],i=Object(x.c)((function(e){return e.theme.value})),s=Object(x.c)((function(e){return e.status.value}));i=""==i?"light":i;var d=Object(x.b)(),f="dark"==i?"#161618":"white",b="dark"==i?"white":"black";return Object(y.jsxs)(C.a,{fluid:!0,children:[Object(y.jsx)(T.a,{bg:i,variant:i,expand:!1,children:Object(y.jsxs)(C.a,{fluid:!0,children:[Object(y.jsx)(T.a.Brand,{href:"#",children:"SLSK"}),Object(y.jsx)(T.a.Toggle,{"aria-controls":"offcanvasNavbar"}),Object(y.jsxs)(T.a.Offcanvas,{id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel",placement:"end",style:{backgroundColor:f,visibility:"none"},children:[Object(y.jsx)(W.a.Header,{closeButton:!0,style:{color:b},children:Object(y.jsx)(W.a.Title,{id:"offcanvasNavbarLabel",style:{color:b},children:"Select"})}),Object(y.jsx)(W.a.Body,{children:Object(y.jsxs)(C.a,{className:"d-flex flex-column",bg:i,variant:i,children:[null!=e.user?Object(y.jsxs)("h6",{children:["User : ",e.user.email]}):Object(y.jsx)(j.a,{variant:"outline-primary",onClick:function(){function t(){return(t=Object(o.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sigin();case 2:d(m(!s));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},children:"login"}),Object(y.jsx)(j.a,{variant:"link",onClick:function(){d(p(!0))},children:"home"}),Object(y.jsx)(j.a,{variant:"link",onClick:function(){d(p(!1))},children:"cart"}),Object(y.jsx)(j.a,{variant:"link",onClick:function(){d(M("light"==i?"dark":"light"))},children:"light"==i?"dark":"light"}),Object(y.jsx)(j.a,{variant:"link",onClick:function(){return c(!0)},children:"Profile"}),Object(y.jsxs)(U.a,{size:"sm",show:a,onHide:function(){return c(!1)},"aria-labelledby":"example-modal-sizes-title-sm",children:[Object(y.jsx)(U.a.Header,{closeButton:!0,children:Object(y.jsx)(U.a.Title,{id:"example-modal-sizes-title-sm",children:"Profile"})}),Object(y.jsx)(U.a.Body,{children:Object(y.jsxs)(S.a,{children:[Object(y.jsx)(h.a,{children:null!=e.user?Object(y.jsxs)("h6",{children:["User : ",e.user.email]}):Object(y.jsx)(j.a,{variant:"outline-primary",onClick:function(){function t(){return(t=Object(o.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sigin();case 2:d(m(!s));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},children:"login"})}),Object(y.jsx)(h.a,{children:null!=e.user?Object(y.jsx)(j.a,{variant:"outline-danger",onClick:function(){function t(){return(t=Object(o.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.signout();case 2:d(m(!s));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},children:"logout"}):Object(y.jsx)("h1",{})})]})})]})]})})]})]})}),Object(y.jsx)(T.a,{bg:i,variant:i,expand:!1,sticky:"top",children:Object(y.jsx)(C.a,{fluid:!0,children:Object(y.jsxs)(_.a,{className:"d-flex",children:[Object(y.jsx)(B.a,{type:"search",placeholder:"Search",className:"me-2","aria-label":"Search",onChange:function(e){"Search"!=e.target.value&&d(E(e.target.value))}}),Object(y.jsx)(j.a,{variant:"outline-success",children:"Search"})]})})})]})};function P(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),a=n[0],c=n[1],i=Object(x.b)(),s=Object(x.c)((function(e){return e.status.value}));Object(r.useEffect)((function(){if(a){function t(){return(t=Object(o.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.adder(e.id,e.quantity);case 2:c(!1),i(m(!s));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}}),[a]);var d=function(){return c(!0)};return Object(y.jsx)("div",{children:1==e.inc?Object(y.jsx)(j.a,{variant:"success",disabled:a,onClick:a?null:d,children:a?"adding..":"Increase by 1"}):Object(y.jsx)(j.a,{variant:"danger",disabled:a,onClick:a?null:d,children:a?"decreasing..":"decrease by 1"})})}var Y=function(e){var t=Object(x.c)((function(e){return e.theme.value}));return t=""==t?"light":t,Object(y.jsx)(h.a,{children:Object(y.jsx)(d.a,{bg:t,text:"dark"==t?"light":"dark",style:{width:"18rem",margin:"5px"},children:Object(y.jsxs)(d.a.Body,{children:[Object(y.jsxs)(d.a.Text,{children:[Object(y.jsx)("span",{bg:"light",children:"Name:"}),e.name]}),Object(y.jsxs)(d.a.Text,{children:[Object(y.jsx)("span",{children:"Quantity:"}),e.quantity]}),Object(y.jsx)("br",{}),Object(y.jsx)(P,{id:e.id,adder:e.adder,quantity:e.quantity,inc:!0}),Object(y.jsx)("br",{}),Object(y.jsx)(P,{id:e.id,adder:e.adder1,quantity:e.quantity,inc:!1})]})})})},A=Object(q.a)("https://grjedxqfuerqilmrvoat.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzODc2MjQ5OSwiZXhwIjoxOTU0MzM4NDk5fQ.CmBSWYXk0_3lf0oRuZ7FtTMi0iscDtrzBWHi45Xtldo");var Q=function(){var e=Object(x.b)(),t=Object(r.useState)([]),n=Object(l.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)([]),s=Object(l.a)(i,2),f=s[0],b=s[1],p=Object(x.c)((function(e){return e.status.value})),O=Object(r.useState)(null),v=Object(l.a)(O,2),g=v[0],k=v[1],w=Object(r.useState)(""),q=Object(l.a)(w,2),I=(q[0],q[1]),T=Object(r.useState)(""),_=Object(l.a)(T,2),B=_[0],W=_[1],z=Object(x.c)((function(e){return e.theme.value})),M=Object(x.c)((function(e){return e.ishome.value})),J="dark"==(z=""==z?"light":z)?"#161618":"white",U="dark"==z?"white":"black",D=Object(x.c)((function(e){return e.search.value}));function E(e){var t;return t=e.split(" ").join("%20"),"https://api.whatsapp.com/send?phone=".concat("919440827736","&text=%20").concat(t)}var X=function(){var e=Object(o.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.from("cart").select("cart_mname,quantity").order("id",{ascending:!1});case 2:if(t=e.sent,n=t.data,r=t.error,b(n),null!==r){e.next=8;break}return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function L(){return F.apply(this,arguments)}function F(){return(F=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.from("cart").delete();case 2:t=e.sent,t.data,t.error,W("");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(o.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.from("cart").update([{quantity:n+1}]).eq("cart_mid",t);case 2:r=e.sent,r.data,r.error;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){return Z.apply(this,arguments)}function Z(){return(Z=Object(o.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=n){e.next=8;break}return e.next=3,A.from("cart").delete().eq("cart_mid",t);case 3:r=e.sent,r.data,r.error,e.next=14;break;case 8:if(!(n>1)){e.next=14;break}return e.next=11,A.from("cart").update([{quantity:n-1}]).eq("cart_mid",t);case 11:a=e.sent,a.data,a.error;case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.auth.signOut();case 2:t=e.sent,t.error;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=Object(o.a)(u.a.mark((function e(t,n){var r,a,c,i,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.from("cart").select("quantity").eq("cart_mid",t);case 2:if(r=e.sent,a=r.data,c=r.error,!(a.length>0)){e.next=13;break}return e.next=8,A.from("cart").update([{quantity:a[0].quantity+1}]).eq("cart_mid",t);case 8:i=e.sent,i.data,i.error,e.next=20;break;case 13:if(null==(s=null!=g?g.id:null)){e.next=20;break}return e.next=17,A.from("cart").insert([{cart_uid:s,quantity:1,cart_mid:t,cart_mname:n}]);case 17:o=e.sent,o.data,o.error;case 20:if(null!==c){e.next=22;break}return e.abrupt("return",!0);case 22:return e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.auth.signIn({provider:"google"});case 2:t=e.sent,t.user,t.session,t.error;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){D.length<0||function(){var e=Object(o.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.from("menu").select("*").ilike("name","%"+D+"%");case 2:t=e.sent,n=t.data,t.error,c(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[D]),Object(r.useEffect)((function(){var e,t,n;n=A.auth.session(),k(null!==(e=null===(t=n)||void 0===t?void 0:t.user)&&void 0!==e?e:null);A.auth.onAuthStateChange(function(){var e=Object(o.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null,a=null===n||void 0===n?void 0:n.user,k(null!==(r=a)&&void 0!==r?r:null);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()).data;var r=function(){var e=Object(o.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.from("menu").select("*");case 2:t=e.sent,n=t.data,t.error,c(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(o.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.from("cart").select("cart_mid,quantity,cart_mname").order("id",{ascending:!1});case 2:t=e.sent,n=t.data,t.error,b(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r(),a()}),[g,p]),Object(y.jsxs)(C.a,{fluid:!0,className:"App",style:{backgroundColor:J,minHeight:"100vh"},children:[Object(y.jsx)(H,{user:g,sigin:V,signout:function(){return G.apply(this,arguments)}}),1==M?Object(y.jsx)(N,{state:a,adder:function(e,t){return K.apply(this,arguments)},user:g}):Object(y.jsxs)(C.a,{children:[Object(y.jsx)(C.a,{children:Object(y.jsx)(S.a,{children:f.length>0?f.map((function(e){return Object(y.jsx)(Y,{name:e.cart_mname,id:e.cart_mid,adder:P,adder1:R,quantity:e.quantity})})):null!=g?Object(y.jsx)("h2",{style:{Color:"green"},children:"cart is empty"}):Object(y.jsxs)("h2",{style:{color:U},children:[Object(y.jsx)("span",{children:Object(y.jsx)(j.a,{variant:"outline-primary",onClick:function(){function t(){return(t=Object(o.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V();case 2:e(m(!p));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},children:"login"})})," ","to view cart"]})})}),Object(y.jsx)(S.a,{children:Object(y.jsx)(C.a,{fluid:!0,children:Object(y.jsxs)(S.a,{children:[Object(y.jsx)(h.a,{children:Object(y.jsx)(j.a,{onClick:function(){function t(){return(t=Object(o.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L();case 2:e(m(!p));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},variant:"outline-warning",children:"clear all"})}),Object(y.jsx)(h.a,{children:Object(y.jsx)(j.a,{onClick:function(){function t(){return(t=Object(o.a)(u.a.mark((function t(){var n,r,a,c,i,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="",t.next=3,X();case 3:if(null!=(r=t.sent))for(a=0;a<r.length;a++)c=r[a],i=c.quantity,s=c.cart_mname,n+=s+" "+i+" KG,";I(n),e(m(!p)),n.length>1&&W(E(n));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},variant:"outline-primary",children:"check out"})})]})})}),B.length>0?Object(y.jsx)(j.a,{variant:"outline-success",children:Object(y.jsx)("a",{className:"font-monospace",style:{textDecoration:"None"},href:B,children:"placeorder"})}):Object(y.jsx)(d.a,{text:"dark"==z?"light":"dark",bg:z,className:" m-3",children:Object(y.jsx)(d.a.Text,{children:"check out to place order"})})]})]})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,96)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},Z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function G(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var K=Object(f.a)({reducer:{theme:J,ishome:O,status:g,search:X,user:F}});i.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(x.a,{store:K,children:Object(y.jsx)(Q,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Z?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):G(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):G(t,e)}))}}(),R()}},[[89,1,2]]]);
//# sourceMappingURL=main.9dfaf2dd.chunk.js.map